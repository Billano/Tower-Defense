'use-strict';

var createBots = require('./createBots.js');
var killAllBots = require('./killAllBots.js');

//calculates the new firing range needed to kill all the bots
var newFiringRange = function (firingRange, lines) {
  var bots = createBots(lines);
  var maxFiringRange =  Math.max.apply(null, bots.map(function (bot) {
    return bot[1];
  }));

  while (firingRange <= maxFiringRange) {
    bots = createBots(lines);
    killAllBots(firingRange, bots, false);
    if (bots.length == 0) {
      return (firingRange);
    }
    firingRange++;
  }
  return (-1);
}

module.exports = newFiringRange;
